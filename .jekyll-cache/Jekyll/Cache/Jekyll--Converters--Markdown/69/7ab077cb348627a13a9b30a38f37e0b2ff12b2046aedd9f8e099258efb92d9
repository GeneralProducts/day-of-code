I"I&<!-- <span class="tag tag--draft">Not started</span> -->
<!-- <span class="tag tag--progress">In progress</span> -->
<p><span class="tag tag--review">Ready for review</span>
<!-- <span class="tag tag--approved">Approved</span> --></p>

<p class="content__abstract">
  This article explains how the internet works. You won't add anything to your web app whilst working through this article, but it contains important relevant principles and processes.
</p>

<p>It’s worth going over what happens when you visit a website, since you’re creating one.</p>

<p>You start the conversation when you tell your web browser the URL you want to visit. Let’s imagine you want to visit Consonance’s Twitter page. You’d type ‘www.twitter.com/consonance_app’ into the address bar of your browser (or maybe you’d look it up on Google and click on a link).</p>

<p><img src="assets/images/domain.jpg" alt="" /></p>

<p>The URL gets broken into two halves. The first part – what you might think of as the ’domain name’ – specifies which webserver you want to talk to. In this case you’re connecting to the servers at twitter.com. The second part of the URL says which page from that website you want to look at. In this case that’s the ‘/consonance_app’ part of the address. If you leave that part out, you’ll typically get taken to the home page of the website</p>

<!-- ![](assets/images/round_trip.jpg) -->

<p>So what does a webserver do when it receives a request for a page? 99 times out of 100 it replies to that request by sending back an HTML file. The HTML might specify a heading which says ‘Consonance’. Then the relevant piece of CSS will specify that it should appear in 15 point Lucida Sans in grey.</p>

<p>To recap: the web browser on your computer requests a web page from some remote server. That server sends back an HTML file, plus some CSS. Then your browser uses the CSS to lay out that HTML so that you can see the web page properly displayed on your screen.</p>

<h2 id="static-websites">Static websites</h2>

<p>Where does a webserver get the HTML files that it sends out? The simplest option is to write them all out in advance. So if a website has 100 pages, then there will be 100 HTML files sitting in a folder on that server waiting for someone to request them.</p>

<p>That’s called a ‘static website’ because every time a user requests a particular web page they get the same HTML file sent to them. The HTML doesn’t change from day to day unless a designer goes in and manually edits it, which is why it’s called ‘static’.</p>

<h2 id="dynamic-websites">Dynamic websites</h2>

<p>A second, and more sophisticated, type of webserver can understand bits of code embedded in an HTML file. Those webservers are often accessed remotely.</p>

<p>Have you ever run a mail merge from Microsoft Word? You add in mail merge tags such as <code class="highlighter-rouge">&lt;firstname&gt;</code> and <code class="highlighter-rouge">&lt;lastname&gt;</code>. You can do the same thing in HTML. There are still lots of pre-prepared HTML files, but included in amongst the HTML will be command tags. These tags are code commands; they instruct the webserver to perform a task. In most cases the commands will instruct the webserver to fetch some information: for instance, today’s date. So you place the command tags in amongst the HTML in the exact spot you want the date to go and the last thing the webserver does before sending out the file is to replace it with the actual current date.</p>

<p>Pieces of information that stay the same from day to day (e.g. the words in an old blog post) can be written directly into an HTML file. But if you want users to see information that keeps changing (e.g. the total number of visitors to your site) you can embed code like this instead. A visitor to the website never gets to see that code, though, because it’s always been replaced before the file is sent to your browser.</p>

<p>You can think of these command tags as being a question. Before an HTML files gets sent out, all those questions are replaced with their HTML answers.</p>

<p>Sites such as Wordpress, Twitter and our own publishing management software, <a href="https://www.consonance.app">Consonance</a>, are examples of sophisticated web applications where servers dynamically query and interpret tagged-up files.</p>

<h2 id="databases">Databases</h2>

<p>The ability to swap in data dynamically becomes even more useful if your website stores its content in a database rather than in lots of separate HTML files. If you want to offer 100 web pages, one for each book you’ve published, you don’t need to create 100 HTML files. You can design one web page as a ‘template’ and use it for all 100 books, drawing their data from where it’s stored in the database. For instance, the heading in your template could be made up of one command tag for ‘author name’ and another command tag for ‘book title’. Those command tags will be replaced with the relevant info, depending on which book’s web page the user is requesting. You can think of a database as a bit like a spreadsheet, where the sheets can talk to each other, matching their data through identical keys. You are going to be using a database-like data store today: XML (ONIX).</p>

<h2 id="why-jekyll">Why Jekyll?</h2>

<p>Today, you are using the static site generator Jekyll to do some of the work of a webserver – translating command tags and outputting static HTML – before you push the code to the internet, rather than dynamically creating it on the fly. It means you’re not going to have to use an advanced web server to dynamically interpret your code, but you are still going to be inserting command tags so you can automate the generation of your HTML. Jekyll uses a templating language called <a href="https://shopify.github.io/liquid/">Liquid</a>, written in Ruby.</p>

<h2 id="why-ruby">Why Ruby?</h2>

<p>We have chosen to use Ruby because it is an elegant language. You’ll know the seminal work on writing, Strunk and White’s “The Elements of Style”. William Strunk, Jr. would be delighted with Ruby:</p>

<blockquote>
  <h3 id="omit-needless-words">Omit needless words.</h3>
  <p>Vigorous writing is concise. A sentence should contain no unnecessary words, a paragraph no unnecessary sentences, for the same reason that a drawing should have no unnecessary lines and a machine no unnecessary parts. This requires not that the writer make all his sentences short, or that he avoid all detail and treat his subjects only in outline, but that <em>every word tell</em>.</p>
  <h4 id="strunk-and-white-the-elements-of-style-1918">Strunk and White, The Elements of Style, 1918</h4>
</blockquote>

<p>As computing power has increased over the last few decades, we can have programming languages optimised for humans, not computers. Computers are powerful enough nowadays to allow Ruby methods to be written in clear English, which take longer to process than some terse machine code, but makes for a far more enjoyable coding experience, because Ruby is readable. <code class="highlighter-rouge">Book.all</code>, for example, means “get all the books”.</p>

<h2 id="command-tags">Command tags</h2>
<p>Your challenge, which you’ll be walked through in the next article, is to replace the static HTML in the <em>portfolio.html</em> file with Liquid command tags that will loop through all your books and display them. To do that, you’ll need to know some code syntax.</p>

<h2 id="syntax">Syntax</h2>
<p>Syntax refers to the symbols and words that make up a programming language. Use the correct syntax and the computer will know what you want it to do.</p>

<p>The syntax for command tags in Jekyll’s Liquid templating language is this:</p>

<figure class="highlight"><pre><code class="language-liquid" data-lang="liquid">  <span class="p">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">book</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nv">books</span><span class="w"> </span><span class="p">%}</span>
    <span class="p">{{</span><span class="w"> </span><span class="nv">book</span><span class="p">.</span><span class="nv">title</span><span class="w"> </span><span class="p">}}</span>
  <span class="p">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="p">%}</span></code></pre></figure>

<p>If you want to print values onto the page in HTML, the syntax is a <code class="highlighter-rouge">{{</code> at the start of the command, and a <code class="highlighter-rouge">}}</code> at the end. Anything between those characters will be interpreted as a command. The code will run, and the result is printed to the screen. You’ll get a piece of data, such as the book’s title, appearing on the page.</p>

<p>If you want to run some logic but not print values onto the page in HTML, the syntax is a <code class="highlighter-rouge">{%</code> at the start of the command, and a <code class="highlighter-rouge">%}</code> at the end. Anything between those characters will be interpreted as a command. The code will run, but the result will not be printed to the screen.</p>

<p>In a while, you are going to query your own ONIX as a data source, but for now we have prepared a bit of sample data for you to use. Go to the next article to get started in using this data source on your website, rather than typing directly into HTML.</p>

<h2 id="what-youve-learned">What you’ve learned</h2>

<ul>
  <li>How the internet works</li>
  <li>You are using Jekyll, a static site generator, which uses Liquid</li>
  <li>Jekyll can process command tags, to produce HTML</li>
</ul>
:ET