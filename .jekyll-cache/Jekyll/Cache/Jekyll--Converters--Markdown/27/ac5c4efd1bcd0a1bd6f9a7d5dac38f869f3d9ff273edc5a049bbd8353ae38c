I"ü<!-- <span class="tag tag--draft">Not started</span> -->
<!-- <span class="tag tag--progress">In progress</span> -->
<!-- <span class="tag tag--review">Ready for review</span> -->
<!-- <span class="tag tag--approved">Approved</span> -->

<p class="content__abstract">
  This article tells you how to use your own code.
</p>

<h2 id="get-your-onix-file">Get your ONIX file</h2>
<p>Nielsen have kindly provided access to the ONIX 3.0 data they hold for delegates today, and we have stored that data in its raw ONIX format in your code repository. The data is in exactly the same file format that your publishing company generates from its publishing management system (a system like our <a href="https://consonance.app">Consonance</a>, or Klopotek or Biblio) and which it sends to data aggregators such as Nielsen, BDS, Bowker, EBSCO, JSTOR etc. By knowing how to use and reuse assets such as ONIX files to create websites and marketing materials, you get better value out of your investment in systems. You can populate the website you‚Äôre building today with your own ONIX 3 files, after the Day of Code, by saving your ONIX files in the <em>_data</em> folder.</p>

<p>For now, go to the <a href="https://github.com/GeneralProducts/publisher-xml-files">repo here</a> and find your company‚Äôs ONIX file. Download it and save it in your <em>_data</em> folder.</p>

<p>You‚Äôve been mainly making changes in a text editor so far, and reviewing the results in a browser. Now you‚Äôre going to use the command line to change the source of data you‚Äôre using. On the Mac, the command line is called the <a href="glossary#terminal">Terminal</a>. On Windows, it‚Äôs called the <a href="glossary#command-prompt">Command Prompt</a>. Open the relevant one now.</p>

<p>Your server is running in one tab, so you‚Äôll need to add a new tab to write commands. Use the menu to do that:</p>

<p><img src="assets/images/term1.png" alt="Screenshot showing how to create a new terminal tab" /></p>

<p>To learn how to get your data, open the <em>README</em> file in your text editor. It is written in Markdown: you can see it turned into HTML <a href="https://github.com/GeneralProducts/publisher-website/tree/master">here</a>.</p>

<p><img src="assets/images/readme.png" alt="Screenshot showing the README file in the text editor" /></p>

<p>It says:</p>

<figure class="highlight"><pre><code class="language-markdown" data-lang="markdown">To process an ONIX 3 file called <span class="sb">`snowbooks.xml`</span>, run:

<span class="sb">`ruby lib/seed.rb --adaptor onix --publisher snowbooks`</span></code></pre></figure>

<p>In your new Terminal tab, type the following, changing the word ‚Äúsnowbooks‚Äù to be the name your file is named.</p>

<figure class="highlight"><pre><code class="language-terminal" data-lang="terminal"><span class="go">  ruby lib/seed.rb --adaptor onix --publisher snowbooks</span></code></pre></figure>

<p>If you are from Elsevier, and your file saved in <em>_data</em> is called <em>elsevier.xml</em>, you would type</p>

<figure class="highlight"><pre><code class="language-terminal" data-lang="terminal"><span class="go">  ruby lib/seed.rb --adaptor onix --publisher elsevier</span></code></pre></figure>

<p>Press <strong>enter</strong>. You‚Äôll see a message like this:</p>

<figure class="highlight"><pre><code class="language-terminal" data-lang="terminal"><span class="go">  ONIX is being processed for elsevier. Processed data will be put into _data/processed_books.json</span></code></pre></figure>

<blockquote>
  <p><span class="content__learn-more">Troubleshooting</span></p>
  <ul>
    <li>For coaches: If you see messages like <code class="highlighter-rouge">lib/ adaptors/ onix/ v3/ reference/ product.rb:134: syntax error, unexpected '.' ..urrency_code}']/ PriceAmount")&amp;.content</code>, your delegate is using an old version of Ruby which doesn‚Äôt support the safe navigation <code class="highlighter-rouge">&amp;.</code>. Try <code class="highlighter-rouge">rvm use ruby-2.5.5</code></li>
  </ul>
</blockquote>

<p>Now refresh your browser window and you‚Äôll see your own books being used.</p>

<h2 id="very-important-take-a-screenshot">VERY IMPORTANT: take a screenshot!</h2>

<p>On Monday 25th November, your hosts from Consonance have to present a summary of the Day of Code at the FutureBook conference. We need screenshots from every delegate to showcase our results! Please screenshot your portfolio page, and index page, and send the images to us now via Slack or email: info@consonance.app. Thanks!</p>

<blockquote>
  <p><span class="content__learn-more">Learn more later</span></p>
  <ul>
    <li>You have used a library written by the Consonance team to transform ONIX 3 into JSON which Jekyll can understand. Go to <code class="highlighter-rouge">lib/write_data.rb</code> to see it, and run the tests by typing <code class="highlighter-rouge">rspec</code> on the command line. And Google the words I‚Äôve just used: library, JSON, rspec.</li>
  </ul>
</blockquote>

<h2 id="what-youve-learned">What you‚Äôve learned</h2>

<ul>
  <li>You can reuse data sources to get the most out of your investment in your systems.</li>
  <li>Using one data source means you have one version of the truth, which is more efficient.</li>
</ul>
:ET